# Первичная установка программы:

1. Скачайте **ZIP** файл проекта или с помощью **Git Bash** в среде разработке выполните **git clone https://github.com/MrGoldSky/ExamsHelper.git**
2. Откройте консоль **cmd** или **PowerShell** и откройте директорию проекта, выполнив cd {Путь к папке проекта}
3. Для установки необходимых для работы проекта библиотек выполните **pip install -r requirements.txt**
4. Скопируйте файл `.env.example` в `.env` и укажите значения для `BOT_TOKEN`, `TG_BASE_PATH` и `RESULT_BASE_PATH`
5. Если в каталоге `results/base` нет базы данных `result_base.sqlite`, создайте её командой:
   ```bash
   python - <<EOF
   import sqlite3, os
   os.makedirs('results/base', exist_ok=True)
   con = sqlite3.connect('results/base/result_base.sqlite')
   con.execute(
       """CREATE TABLE IF NOT EXISTS base (
           id INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE,
           name STRING, surname STRING, class STRING,
           percent INTEGER, grade INTEGER, user_id INTEGER,
           question STRING, time_start STRING, time_solve STRING,
           answers STRING
       )"""
   )
   con.close()
   EOF
   ```

## Запуск и функционал программы:
В корневом каталоге проекта откройте **main.py**. Это главное приложение- **журнал**. В журнале учитель видит информацию о сданных учениками работах. 

  ### Запуск бота
  Кнопка **Рестарт бота** позволяет запустить или перезапустить бота. Изначально бот доступен по ссылке https://t.me/Gymnasium44Penza_bot, можно настроить программу для другого бота, созданного учителем. 
  Для этого укажите параметр **BOT_TOKEN** в файле `.env`. Токен можно получить в официальном боте Telegram, доступном по ссылке
  https://t.me/BotFather. Инструкция прилагается https://core.telegram.org/bots/tutorial.
  </br>
  
  ### Остановка бота
  Кнопка **Остановка бота** позволяет остановить уже запущенного бота. Так же, во время закрытия журнала, если бот запущен, учителю будет предложено остановить его или оставить запущенным в фоне.

  </br>
  
  ### Создание новых вариантов 
  Нажав в журнале кнопку **Создать вариант** открывается окно **Генератор вариантов**. В нём можно создавать случайный вариант ЕГЭ, содержащий 27 заданий, по одному из каждого топика
  (Топик- конкретный номер из ЕГЭ по информатике 1-27). Или выбирать задания в ручную с помощью кнопок расположенных под предпросмотром номера.
  
 В окне предпросмотра номера можно увидеть карточку текущего номера. Нажав на кнопку **Добавить номер**, она добавится в текущий вариант. Так же номера можно удалять из создаваемого варианта, предварительно выбрав его
  одинарным нажатием в таблице номеров слева или удалить сразу все номера, нажав соответствующую кнопку под таблицей. Двойное нажатие на номер в таблице открывает его предпросмотр. 
  Учитель может ещё раз открыть номер и при необходимости удалить его в открывшемся окне.

  Чекбокс **Привязка ко времени** - это настройка варианта, которая определяет, необходимо ли учитывать время, за которое ученик решает вариант или нет. Если чекбокс нажат, то при запуске учеником варианта, будет
  включаться таймер. Время в таймере подсчитывается на основе рекомендованного ФИПИ временем для каждого топик. При желании время на каждый топик можно изменить в файле **AppConfig.py**, 
  который находится по пути **{путь к папке проекта}/app/AppConfig.py**, поменяв значения в параметре **QUEST_TIME**

  Кнопки выбора номера **Следующий номер** и **Предыдущий номер** позволяют перемещаться между топиками заданий.
  
  Учитель может вводить собственные названия для вариантов в соответствующем поле, которое находится над кнопками выбора номера.
  Кнопка **Создать вариант** сохраняет текущие настройки варианта и добавляет его показывает его ученикам.
  </br>
  
  ### Просмотр текущих вариантов
  В окне журнала есть возможность открыть приложение **Просмотр вариантов**. В нём, по нажатию на вариант в таблице слева, учитель может просматривать уже созданные варианты и при необходимости удалять их. 
  Также есть функционал создания случайного варианта из 27 заданий без открытия окна **Генератор вариантов**. 
  Кнопка **Создать вариант** открывает Генератор вариантов.
  
